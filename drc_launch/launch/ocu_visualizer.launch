<launch>
  <arg name="output" default="log" />

  <node name="pcl_stream" pkg="msgpack_streamer" type="pcl_stream" 
        output="$(arg output)" respawn="true">
    <param name="port" value="6666" />
    <remap from="points" to="/snap/points" />
  </node>

  <node name="image_stream" pkg="msgpack_streamer" type="image_stream"
        output="$(arg output)" respawn="true">
    <param name="port" value="6667" />
    <remap from="image" to="/snap/image" />
  </node>

  <node name="frame_stream" pkg="msgpack_streamer" type="frame_stream"
        output="$(arg output)" respawn="true">
    <remap from="/tf" to="/tf_ocu" />
    <param name="port" value="6668" />
    <param name="fixed_frame" value="/atlas/utorso" />
    <rosparam param="frames" command="delete" />
    <rosparam param="frames">
      - /atlas/utorso
      - /atlas/mtorso
      - /atlas/ltorso
      - /atlas/pelvis
      - /atlas/l_uglut
      - /atlas/l_lglut
      - /atlas/l_uleg
      - /atlas/l_lleg
      - /atlas/l_talus
      - /atlas/l_foot
      - /atlas/r_uglut
      - /atlas/r_lglut
      - /atlas/r_uleg
      - /atlas/r_lleg
      - /atlas/r_talus
      - /atlas/r_foot
      - /atlas/l_clav
      - /atlas/l_scap
      - /atlas/l_uarm
      - /atlas/l_larm
      - /atlas/l_farm
      - /atlas/l_hand
      - /atlas/r_clav
      - /atlas/r_scap
      - /atlas/r_uarm
      - /atlas/r_larm
      - /atlas/r_farm
      - /atlas/r_hand
      - /model/utorso
      - /model/mtorso
      - /model/ltorso
      - /model/pelvis
      - /model/l_uglut
      - /model/l_lglut
      - /model/l_uleg
      - /model/l_lleg
      - /model/l_talus
      - /model/l_foot
      - /model/r_uglut
      - /model/r_lglut
      - /model/r_uleg
      - /model/r_lleg
      - /model/r_talus
      - /model/r_foot
      - /model/l_clav
      - /model/l_scap
      - /model/l_uarm
      - /model/l_larm
      - /model/l_farm
      - /model/l_hand
      - /model/r_clav
      - /model/r_scap
      - /model/r_uarm
      - /model/r_larm
      - /model/r_farm
      - /model/r_hand
    </rosparam>
  </node>

</launch>
